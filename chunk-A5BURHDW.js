import{a as g}from"./chunk-6BDIY2AJ.js";import"./chunk-BWXNEIQU.js";import{Ka as l,La as f,Ma as r,Na as m,P as v,Ta as h,Ua as c,Va as d,Ya as y,na as u,oa as p}from"./chunk-FZ62MYCG.js";var n=class{constructor(t,b,s=10,e="white"){this.speed=5,this.pos={x:t,y:b},this.vel={x:1,y:1},this.radius=s,this.color=e}draw(t){t.beginPath(),t.arc(this.pos.x,this.pos.y,this.radius,0,Math.PI*2,!1),t.fillStyle=this.color,t.fill(),t.closePath()}update(){this.pos.x+=this.vel.x*this.speed,this.pos.y+=this.vel.y*this.speed}};var C=["canvas"],x=["canvasFrame"],Q=(()=>{let t=class t{constructor(){this.ball=new n(0,0)}ngAfterViewInit(){if(this.canvas===void 0||this.canvasFrame===void 0){console.log("Canvas not found");return}this.ctx=this.canvas.nativeElement.getContext("2d"),this.ball=new n(this.ctx.canvas.width/2,this.ctx.canvas.height/2),this.resizeCanvas(),this.updateCanvas(),this.timeLoop=setInterval(()=>{this.computePositions()},10)}resizeCanvas(){if(this.canvas===void 0||this.canvasFrame===void 0){console.log("Canvas not found");return}let s=this.canvasFrame.nativeElement;this.ctx.canvas.width=s.clientWidth,this.ctx.canvas.height=s.clientHeight,this.updateCanvas()}updateCanvas(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ball.draw(this.ctx)}handleKeyboardEvent(s){s.key===" "&&this.restart()}restart(){this.updateCanvas()}computePositions(){(this.ball.pos.x+this.ball.radius>this.ctx.canvas.width||this.ball.pos.x-this.ball.radius<0)&&(this.ball.vel.x*=-1),(this.ball.pos.y+this.ball.radius>this.ctx.canvas.height||this.ball.pos.y-this.ball.radius<0)&&(this.ball.vel.y*=-1),console.log(this.ball.pos.x,this.ball.pos.y),this.ball.update(),this.updateCanvas()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=v({type:t,selectors:[["app-pong"]],viewQuery:function(e,i){if(e&1&&(h(C,5),h(x,5)),e&2){let a;c(a=d())&&(i.canvas=a.first),c(a=d())&&(i.canvasFrame=a.first)}},hostBindings:function(e,i){e&1&&m("resize",function(){return i.resizeCanvas()},!1,u)("keydown",function(w){return i.handleKeyboardEvent(w)},!1,p)},standalone:!0,features:[y],decls:6,vars:0,consts:[["settings",""],["canvas","",1,"w-full","h-full","relative"],["canvasFrame",""],["canvas",""]],template:function(e,i){e&1&&(l(0,"app-layout"),r(1,"div",0),l(2,"div",1,2),r(4,"canvas",null,3),f()())},dependencies:[g]});let o=t;return o})();export{Q as PongComponent};
